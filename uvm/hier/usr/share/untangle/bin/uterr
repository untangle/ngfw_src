#! /bin/bash
# $Id: uvm.sh,v 1.8 2005/03/22 18:46:43 cng Exp $

DIR=@PREFIX@/var/log/uvm/

if ! [ -z "$1" ] ; then
    clear
    loop=$1
fi

while true ; do
    for i in `ls $DIR` ; do 
        exc="`grep -i Exception $DIR/$i | wc -l`"
        err="`grep -i Error $DIR/$i | wc -l`"
        warn="`grep -i Warning $DIR/$i | wc -l`"
        echo "$i $exc $err $warn" | awk '{ printf "%-18s Except: %-4s Error: %-4s Warn: %-4s\n",$1,$2,$3,$4 }'
    done
    if [ -z "$loop" ] ; then 
        exit 0
    else
        sleep $loop
        clear
    fi
done




